## Requirements

Works for version >= 0.12

## Providers

The following providers are used by this module:

- aws

## Required Inputs

The following input variables are required:

### external\_ids

Description: External IDs that will be used to assume the role. Segment will currently use the source ID as the external ID when connecting to your AWS account, and this should be a list of IDs of the sources that you want to connect to your Data Lake. These IDs are generated by Segment and can be retrieved from the Segment app.

Type: `list`

### s3\_bucket

Description: Name of the S3 bucket used by the Data Lake.

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### segment\_aws\_accounts

Description: ARN of the AWS accounts used by Segment to connect to your Data Lake.

Type: `list`

Default:

```json
[
  "arn:aws:iam::294048959147:role/datalakes-aws-worker",
  "arn:aws:iam::294048959147:role/datalakes-customer-service",
  "arn:aws:iam::294048959147:role/customer-datalakes-prod-admin"
]
```

### suffix

Description: Optional suffix to the IAM roles/policies created by this module. Allows creating multiple such modules in the same AWS account. Common practice is to set the env here ie dev/stage/prod

Type: `string`

Default: `""`

### tags

Description: A map of tags to add to all resources. A vendor=segment tag will be added automatically.

Type: `map`

Default: `{}`

## Outputs

The following outputs are exported:

### iam\_emr\_autoscaling\_role

Description: n/a

### iam\_emr\_instance\_profile

Description: n/a

### iam\_emr\_service\_role

Description: n/a

